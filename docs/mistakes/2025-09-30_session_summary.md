## 2025년 9월 30일 실수 요약

### 1. `h-full` 높이 계산 오류로 인한 레이아웃 붕괴
- **문제:** `PageView.vue`의 `textarea`에 `h-full` (height: 100%) 클래스를 적용하자, 저장 버튼을 포함한 컴포넌트 전체가 화면에 보이지 않음.
- **원인:** `h-full`은 부모 요소의 높이가 명확하게 지정되어 있어야 동작한다. 하지만 당시 `textarea`의 부모 컨테이너는 내용에 따라 높이가 결정되었기 때문에, `textarea`의 높이를 계산할 수 없어 레이아웃 전체가 0의 높이를 갖게 되었다.
- **해결:** 전체 레이아웃을 관리하는 `HomePage.vue`에서 `flex-1`과 `overflow-y-auto`를 사용해 본문 영역이 남은 공간을 모두 차지하도록 명확하게 정의하여, `h-full`이 올바르게 계산될 수 있는 컨텍스트를 만들어주었다.
- **핵심 배움:** `height: 100%` (`h-full`)는 매우 유용하지만, 부모 요소부터 시작하여 높이 계산의 기준이 명확하게 잡혀있지 않으면 레이아웃 붕괴를 일으킬 수 있다. Flexbox나 Grid를 사용해 공간을 명확히 분할하는 것이 더 안정적이다.

### 2. `position: fixed` 요소가 `overflow` 부모 안에서 사라지는 현상
- **문제:** `position: fixed` 속성을 가진 저장 버튼이 `AppFooter`에 가려지거나, 특정 상황에서 아예 보이지 않음.
- **원인:** CSS에서 `position: fixed`는 기본적으로 뷰포트(viewport)를 기준으로 위치하지만, **조상 요소 중 `overflow` 속성(hidden, auto, scroll 등)이 있으면 그 조상 요소를 기준으로 위치가 변경된다.** 스크롤이 가능한 `<main>` 영역 안에 저장 버튼이 있었기 때문에, 버튼이 화면 하단이 아닌 스크롤 영역의 하단에 위치하여 보이지 않았다.
- **해결:** 저장 버튼을 스크롤 영역(`PageView.vue`) 밖의 비스크롤 영역(`AppHeader.vue`)으로 이동시켰다. 두 컴포넌트 간의 통신은 Pinia 스토어에 `saveTrigger`라는 상태를 만들어, 헤더가 신호를 보내고 페이지 뷰가 신호를 받아 저장 로직을 처리하는 방식으로 구현했다.
- **핵심 배움:** `position: fixed`는 만능이 아니며, 스태킹 컨텍스트(Stacking Context)를 생성하는 특정 CSS 속성(`overflow`, `transform` 등)에 의해 기준점이 변경될 수 있음을 이해해야 한다. UI 요소의 책임과 위치를 신중하게 고려해야 한다.

### 3. Tailwind CSS v4의 다크 모드 설정 누락
- **문제:** `darkMode: 'class'` 설정, `dark` 클래스 토글 로직, `dark:` 변형 스타일이 모두 올바르게 적용되었음에도 다크 모드가 동작하지 않음.
- **원인:** Tailwind CSS v4에서 `darkMode: 'class'` 전략을 사용할 때, CSS 파일에 `@custom-variant dark (&:where(.dark, .dark *));` 선언이 필수적으로 필요했으나 누락되었다. 이 선언은 `dark` 클래스가 적용된 요소의 모든 하위 요소에 `dark:` 변형을 전파하는 역할을 한다.
- **해결:** 사용자가 공식 문서를 통해 직접 원인을 파악하고, `index.css`에 `@custom-variant` 규칙을 추가하여 문제를 해결했다.
- **핵심 배움:** 라이브러리/프레임워크의 메이저 버전 변경에 따른 핵심적인 설정 변경 사항(Breaking Changes)을 반드시 공식 문서에서 직접 확인해야 한다. 특히 빌드 및 설정과 관련된 부분은 사소한 선언 하나가 전체 동작에 큰 영향을 미칠 수 있다.